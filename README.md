# JavaCore-JVM-homework
## 1 - Понимание JVM
```java
public class JvmComprehension {
    /*JVM передает в ClassLoader запрос на загрузку класса JvmComprehension. В случае если пользовательский CL
(ClassLoader) отсуттвует, то запрос проходит от верхнего уровня к последующему нижнему (Application -> Platform -> Bootstrap)
Класс пытается загрузиться на нижнем уровне и, если не получается, то запрос передается выше. После того как CL
нашел нужный класс происходит линковка классов: проверка валидности кода -> Подготовка примитивов в статических полях ->
 связываение ссылок на другие классы. Далее происходит инициализация и класс попадает в metaspace
*/
    public static void main(String[] args) { // После вызова метода в стеке создается фрейм (main)
        int i = 1;                      // 1 - Во фрейм мейн помещается пременная i со значением 1
        Object o = new Object();        // 2 - new Object() записывает объект в heap, а пременной o присваетвается ссылка
        // на этот объект после чего переменная о со значением ссылки на объект помещается в фрейм стека (main).
        Integer ii = 2;                 // 3 - JVM помещает ссылку на '2' из пула чисел в переменную ii. В перменной ii
        // на стеке хранится ссылка
        printAll(o, i, ii);             // 4 - Вызывая метод, на стеке создается новый фрейм (printAll). При создании фрейма
        // в нем создаются новые переменные согласно указаным параметрам, в эти перменные скопируются значения соответвующих
        // аргументов. (2 ссылки o, ii и цифра 1 в i)
        System.out.println("finished"); // 7 - Фрейм (printAll) и все которые были позже удаляются (захватывая ссылки и
        // значения). И происходит примерно тоже самое что и в п.6 Заисключением того что String "finished" будет
        // находится в пуле строк, а не отдельно в heap
    }

    private static void printAll(Object o, int i, Integer ii) {
        Integer uselessVar = 700;                   // 5 - В heap создается экземпляр Integer со значением 700. В фрейм
        // стека (printAll) помещается переменная "uselessVar" содержащая ссылку на объект в heap
        System.out.println(o.toString() + i + ii);  // 6 - На стек по очереди падают фреймы System.out, println, toString.
        // toString создает в heap объект типа String, потом в heap создается результирующая строка (o.toString() + i + ii),
        // ссылка на эту строку в heap передается в аргументом в метод println -> System.out выводит значение строки в консоль
    }

    /*После того как фреймы в пуле удалятся, пропадут и ссылки на объекты => GC больше не сможет дойти до этих объектов
    , пометит как "неживые" и, в итоге, удалит. Например uselessVar или получившийся String в п.6*/
}
```
## 2 - Исследование JVM через VisualVM
![VisualVM](https://user-images.githubusercontent.com/100852484/177567742-e0f7f873-2bc5-48cc-a953-f35b5b04d814.jpg)
